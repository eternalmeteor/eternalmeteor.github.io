<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Windows中使用hugo和Github Pages搭建个人博客（二） | My New Hugo Site</title>
<meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="[toc]
1.建立GitHub远程仓库 登录至自己的GitHub账号，建立GitHub Page仓库。 注意：这里的GitHub page的命名格式必须为username.github.io,其中username为GitHub的用户名，即就是Repository name前面的Owner名。
勾选public，将仓库设置为公开仓库。 勾选Add a README file，设置main分支为仓库的默认主分支。 2.将本地仓库和远程仓库相关联 鼠标右键打开git bash。
进入至本地仓库目录下，例如我的本地仓库目录为：d:/quickstart
在quickStart目录下运行git init命令，初始化本地仓库为git仓库 git init 将本地仓库和远程仓库（自己创建的.github.io仓库）相关联。 git remote add origin url (url代表远程仓库的url) 将本地仓库中的内容推送至远程仓库。 注意1：本文档采用同一个远程仓库的两个分支进行hugo仓库的自动部署。设置远程仓库中的source分支为本地仓库的内容，main分支代表要发布的静态网页。
注意2：git add .之后在Windows平台会出现warning: LF will be replaced by CRLF in .gitmodules. The file will have its original line endings in your working directory，查阅资料之后发现是不同平台下空格表示方式不同，可以不用管。
注意3：git push时需要本地分支名，本地分支名会显示在git bash界面中当前目录的后面，注意看自己的分支名。
git add . #将本地修改添加至暂存区 git commit -m '注释' #将本地修改从暂存区移动到本地分支 git push -u origin master:source #-u选项代表将所推送的远程分支设置本地分支的上游，后续可以无须指定，相当于缓存了一簇推送设置，master代表本地分支名，source代表远程分支名。 3."><meta name=generator content="Hugo 0.124.1"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link rel=canonical href=https://example.org/posts/blog01/><meta property="og:title" content="Windows中使用hugo和Github Pages搭建个人博客（二）"><meta property="og:description" content="[toc]
1.建立GitHub远程仓库 登录至自己的GitHub账号，建立GitHub Page仓库。 注意：这里的GitHub page的命名格式必须为username.github.io,其中username为GitHub的用户名，即就是Repository name前面的Owner名。
勾选public，将仓库设置为公开仓库。 勾选Add a README file，设置main分支为仓库的默认主分支。 2.将本地仓库和远程仓库相关联 鼠标右键打开git bash。
进入至本地仓库目录下，例如我的本地仓库目录为：d:/quickstart
在quickStart目录下运行git init命令，初始化本地仓库为git仓库 git init 将本地仓库和远程仓库（自己创建的.github.io仓库）相关联。 git remote add origin url (url代表远程仓库的url) 将本地仓库中的内容推送至远程仓库。 注意1：本文档采用同一个远程仓库的两个分支进行hugo仓库的自动部署。设置远程仓库中的source分支为本地仓库的内容，main分支代表要发布的静态网页。
注意2：git add .之后在Windows平台会出现warning: LF will be replaced by CRLF in .gitmodules. The file will have its original line endings in your working directory，查阅资料之后发现是不同平台下空格表示方式不同，可以不用管。
注意3：git push时需要本地分支名，本地分支名会显示在git bash界面中当前目录的后面，注意看自己的分支名。
git add . #将本地修改添加至暂存区 git commit -m '注释' #将本地修改从暂存区移动到本地分支 git push -u origin master:source #-u选项代表将所推送的远程分支设置本地分支的上游，后续可以无须指定，相当于缓存了一簇推送设置，master代表本地分支名，source代表远程分支名。 3."><meta property="og:type" content="article"><meta property="og:url" content="https://example.org/posts/blog01/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-15T20:48:20+08:00"><meta property="article:modified_time" content="2024-04-15T20:48:20+08:00"><meta itemprop=name content="Windows中使用hugo和Github Pages搭建个人博客（二）"><meta itemprop=description content="[toc]
1.建立GitHub远程仓库 登录至自己的GitHub账号，建立GitHub Page仓库。 注意：这里的GitHub page的命名格式必须为username.github.io,其中username为GitHub的用户名，即就是Repository name前面的Owner名。
勾选public，将仓库设置为公开仓库。 勾选Add a README file，设置main分支为仓库的默认主分支。 2.将本地仓库和远程仓库相关联 鼠标右键打开git bash。
进入至本地仓库目录下，例如我的本地仓库目录为：d:/quickstart
在quickStart目录下运行git init命令，初始化本地仓库为git仓库 git init 将本地仓库和远程仓库（自己创建的.github.io仓库）相关联。 git remote add origin url (url代表远程仓库的url) 将本地仓库中的内容推送至远程仓库。 注意1：本文档采用同一个远程仓库的两个分支进行hugo仓库的自动部署。设置远程仓库中的source分支为本地仓库的内容，main分支代表要发布的静态网页。
注意2：git add .之后在Windows平台会出现warning: LF will be replaced by CRLF in .gitmodules. The file will have its original line endings in your working directory，查阅资料之后发现是不同平台下空格表示方式不同，可以不用管。
注意3：git push时需要本地分支名，本地分支名会显示在git bash界面中当前目录的后面，注意看自己的分支名。
git add . #将本地修改添加至暂存区 git commit -m '注释' #将本地修改从暂存区移动到本地分支 git push -u origin master:source #-u选项代表将所推送的远程分支设置本地分支的上游，后续可以无须指定，相当于缓存了一簇推送设置，master代表本地分支名，source代表远程分支名。 3."><meta itemprop=datePublished content="2024-04-15T20:48:20+08:00"><meta itemprop=dateModified content="2024-04-15T20:48:20+08:00"><meta itemprop=wordCount content="212"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Windows中使用hugo和Github Pages搭建个人博客（二）"><meta name=twitter:description content="[toc]
1.建立GitHub远程仓库 登录至自己的GitHub账号，建立GitHub Page仓库。 注意：这里的GitHub page的命名格式必须为username.github.io,其中username为GitHub的用户名，即就是Repository name前面的Owner名。
勾选public，将仓库设置为公开仓库。 勾选Add a README file，设置main分支为仓库的默认主分支。 2.将本地仓库和远程仓库相关联 鼠标右键打开git bash。
进入至本地仓库目录下，例如我的本地仓库目录为：d:/quickstart
在quickStart目录下运行git init命令，初始化本地仓库为git仓库 git init 将本地仓库和远程仓库（自己创建的.github.io仓库）相关联。 git remote add origin url (url代表远程仓库的url) 将本地仓库中的内容推送至远程仓库。 注意1：本文档采用同一个远程仓库的两个分支进行hugo仓库的自动部署。设置远程仓库中的source分支为本地仓库的内容，main分支代表要发布的静态网页。
注意2：git add .之后在Windows平台会出现warning: LF will be replaced by CRLF in .gitmodules. The file will have its original line endings in your working directory，查阅资料之后发现是不同平台下空格表示方式不同，可以不用管。
注意3：git push时需要本地分支名，本地分支名会显示在git bash界面中当前目录的后面，注意看自己的分支名。
git add . #将本地修改添加至暂存区 git commit -m '注释' #将本地修改从暂存区移动到本地分支 git push -u origin master:source #-u选项代表将所推送的远程分支设置本地分支的上游，后续可以无须指定，相当于缓存了一簇推送设置，master代表本地分支名，source代表远程分支名。 3."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">My New Hugo Site</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked ttu">Posts</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">Windows中使用hugo和Github Pages搭建个人博客（二）</h1><time class="f6 mv4 dib tracked" datetime=2024-04-15T20:48:20+08:00>April 15, 2024</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>[toc]</p><h1 id=1建立github远程仓库>1.建立GitHub远程仓库</h1><ol><li>登录至自己的GitHub账号，建立GitHub Page仓库。</li></ol><p><strong>注意：这里的GitHub page的命名格式必须为<code>username.github.io</code>,其中username为GitHub的用户名，即就是Repository name前面的Owner名。</strong></p><ol start=2><li>勾选public，将仓库设置为公开仓库。</li><li>勾选<code>Add a README file</code>，设置main分支为仓库的默认主分支。</li></ol><p><img src=./assets/image-20240416152858695.png alt=image-20240416152858695></p><h1 id=2将本地仓库和远程仓库相关联>2.将本地仓库和远程仓库相关联</h1><ol><li><p>鼠标右键打开git bash。</p></li><li><p>进入至本地仓库目录下，例如我的本地仓库目录为：<code>d:/quickstart</code></p></li></ol><p><img src=./assets/image-20240416160706999.png alt=image-20240416160706999></p><ol start=3><li>在quickStart目录下运行<code>git init</code>命令，初始化本地仓库为git仓库</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git init
</span></span></code></pre></div><ol start=4><li>将本地仓库和远程仓库（自己创建的.github.io仓库）相关联。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git remote add origin url <span style=color:#f92672>(</span>url代表远程仓库的url<span style=color:#f92672>)</span>
</span></span></code></pre></div><p><img src=./assets/image-20240416161312921.png alt=image-20240416161312921></p><ol start=5><li>将本地仓库中的内容推送至远程仓库。</li></ol><p><strong>注意1：本文档采用同一个远程仓库的两个分支进行hugo仓库的自动部署。设置远程仓库中的source分支为本地仓库的内容，main分支代表要发布的静态网页。</strong></p><p><strong>注意2：<code>git add .</code>之后在Windows平台会出现<code>warning: LF will be replaced by CRLF in .gitmodules. The file will have its original line endings in your working directory</code>，查阅资料之后发现是不同平台下空格表示方式不同，可以不用管。</strong></p><p><strong>注意3：<code>git push</code>时需要本地分支名，本地分支名会显示在git bash界面中当前目录的后面，注意看自己的分支名。</strong></p><p><img src=./assets/image-20240416163302671.png alt=image-20240416163302671></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git add . <span style=color:#75715e>#将本地修改添加至暂存区</span>
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#39;注释&#39;</span> <span style=color:#75715e>#将本地修改从暂存区移动到本地分支</span>
</span></span><span style=display:flex><span>git push -u origin master:source <span style=color:#75715e>#-u选项代表将所推送的远程分支设置本地分支的上游，后续可以无须指定，相当于缓存了一簇推送设置，master代表本地分支名，source代表远程分支名。 </span>
</span></span></code></pre></div><p><img src=.%5Cassets%5Cimage-20240416163657579.png alt=image-20240416163657579></p><h1 id=3使用github-action实现自动部署>3.使用Github Action实现自动部署</h1><ol><li>点击Settings&ndash;>Developer Settings，进入到Developer Settings页面。</li></ol><p><img src=.%5Cassets%5Cimage-20240416165350755.png alt=image-20240416165350755></p><ol start=2><li>点击Personal access tokens &ndash;> Token(classic) &ndash;> Generate new token &ndash;> Generate new token(classic)，进入New personal access token(classic) 页面。</li></ol><p><img src=.%5Cassets%5Cimage-20240416165909820.png alt=image-20240416165909820></p><ol start=3><li>在Note中输入Token名（自己可以随便起，例如hugo-blog），勾选repo和workflow.</li></ol><p><img src=./assets/image-20240416170305054.png alt=image-20240416170305054></p><ol start=4><li>点击页面底部的Generate token产生Token，<strong>敲重点：记录以ghp开头的一串代码，后续步骤需要使用。</strong></li></ol><p><img src=./assets/image-20240416170321329.png alt=image-20240416170321329></p><p><img src=.%5Cassets%5Cimage-20240416170602214.png alt=image-20240416170602214></p><ol start=5><li>打开远程仓库中的Setting页面，点击Sercrets and variables&ndash;>Actions&ndash;>New reposiroty secert.</li></ol><p><img src=.%5Cassets%5Cimage-20240417103621284.png alt=image-20240417103621284></p><ol start=6><li>在New repository secret页面中添加步骤4中的Token, 并设置相应的Name（后续需要使用）, 点击Add secret.</li></ol><p><img src=.%5Cassets%5Cimage-20240417104234587.png alt=image-20240417104234587></p><ol start=7><li>在本地仓库quickstart目录下新建.github/workflows/main.yml文件（.github和workflows均为目录）。</li></ol><p><img src=.%5Cassets%5Cimage-20240417105504777.png alt=image-20240417105504777></p><ol start=8><li>按照个人信息修改如下所示的main.yml文件（主要修改branches和personal_token），并填充至自己新建的main.yml文件中。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Hugo Deploy GitHub Pages</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>source </span> <span style=color:#75715e># 设置为自己远程仓库的分支名</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>build-deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>concurrency</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>group</span>: <span style=color:#ae81ff>${{ github.workflow }}-${{ github.ref }}</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>submodules</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#39;0.124.1&#39;</span>  <span style=color:#75715e># 使用你的Hugo版本号</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>extended</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 如果你使用的不是extended版本的hugo，将true改为false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>personal_token</span>: <span style=color:#ae81ff>${{ secrets.HUGO_BLOG }} </span> <span style=color:#75715e># 使用你步骤6设置的Name(大写)</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_branch</span>: <span style=color:#ae81ff>main </span> <span style=color:#75715e># 添加这一行, 可以将推送分支改为main</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>user_name</span>: <span style=color:#e6db74>&#39;github-actions[bot]&#39;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>user_email</span>: <span style=color:#e6db74>&#39;github-actions[bot]@users.noreply.github.com&#39;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>commit_message</span>: <span style=color:#ae81ff>${{ github.event.head_commit.message }}</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e># cname: yourdomain.com  # 如果你有自定义域名, 替换为你的域名</span>
</span></span></code></pre></div><ol start=9><li>退回至quickstart目录下，使用如下命令推送至远程仓库进行测试。</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git add .
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;test auto deploy&#34;</span>
</span></span><span style=display:flex><span>git push origin master:source
</span></span></code></pre></div><ol start=10><li>打开域名<code>https://username.github.io</code>(username更换为自己的username) 进行查看。</li></ol><p><img src=.%5Cassets%5Cimage-20240417113022906.png alt=image-20240417113022906></p><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://example.org/>&copy; My New Hugo Site 2024</a><div><div class=ananke-socials></div></div></div></footer></body></html>